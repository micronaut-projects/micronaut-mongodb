plugins {
    id 'io.micronaut.build.internal.mongodb-module'
}

dependencies {
    api mn.micronaut.aop
    api mn.micronaut.runtime
    api projects.mongoCore
    api("org.mongodb:mongodb-driver-reactivestreams:$mongoReactiveVersion") {
        exclude group: 'org.mongodb', module: 'mongodb-driver-async'
    }
    compileOnly 'io.micronaut.micrometer:micronaut-micrometer-core'
    compileOnly mn.micronaut.inject.java
    compileOnly mn.micronaut.management
    implementation mn.reactor
    testAnnotationProcessor mn.micronaut.inject.java
    testImplementation mn.micronaut.function.web
    testImplementation mn.micronaut.inject.groovy
    testImplementation mn.micronaut.management
    testImplementation "org.testcontainers:spock:1.16.2"
    testRuntimeOnly mn.netty.handler
}

//compileJava.options.forkOptions.jvmArgs =['-verbose']
//compileJava.options.fork=true
